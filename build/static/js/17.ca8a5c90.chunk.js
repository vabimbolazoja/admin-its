(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{1094:function(e,t,n){"use strict";n.r(t);var i=n(391),a=n(653),c=n(1),r=n(21),s=n(842),l=n(647),o=n(646),u=n(654),j=n.n(u),m=n(1101),d=n(22),b=void 0;t.default=function(){Object(r.g)();var e=Object(r.h)().search.match(/page=([0-9]+)/,""),t=Number(e&&e[1]?e[1]:1),n=Object(c.useState)(t),u=Object(a.a)(n,2),h=u[0],O=u[1],g=Object(c.useState)([]),x=Object(a.a)(g,2),f=x[0],p=x[1],T=Object(c.useState)(!1),v=Object(a.a)(T,2),S=v[0],y=v[1],L=Object(c.useState)(!1),C=Object(a.a)(L,2),N=C[0],G=C[1],D=Object(c.useState)(!1),k=Object(a.a)(D,2),F=k[0],U=(k[1],Object(c.useState)(!1)),B=Object(a.a)(U,2),q=B[0],A=B[1],P=Object(c.useState)(!1),w=Object(a.a)(P,2),z=w[0],E=w[1],I=Object(c.useState)(""),J=Object(a.a)(I,2),K=J[0],R=J[1],Y=Object(c.useState)(!1),H=Object(a.a)(Y,2),M=H[0],Q=H[1],V=Object(c.useState)(""),W=Object(a.a)(V,2),X=W[0],Z=W[1],$=Object(c.useState)(""),_=Object(a.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)(""),ie=Object(a.a)(ne,2),ae=ie[0],ce=ie[1],re=Object(c.useState)(""),se=Object(a.a)(re,2),le=se[0],oe=se[1],ue=Object(c.useState)(""),je=Object(a.a)(ue,2),me=je[0],de=je[1],be=Object(c.useState)(""),he=Object(a.a)(be,2),Oe=he[0],ge=he[1],xe=Object(c.useState)(""),fe=Object(a.a)(xe,2),pe=fe[0],Te=fe[1],ve=Object(c.useState)(""),Se=Object(a.a)(ve,2),ye=Se[0],Le=Se[1],Ce=Object(c.useState)(""),Ne=Object(a.a)(Ce,2),Ge=Ne[0],De=Ne[1],ke=Object(c.useState)(""),Fe=Object(a.a)(ke,2),Ue=Fe[0],Be=Fe[1],qe=Object(c.useState)(""),Ae=Object(a.a)(qe,2),Pe=Ae[0],we=Ae[1],ze=Object(c.useState)({}),Ee=Object(a.a)(ze,2),Ie=Ee[0],Je=Ee[1],Ke=Object(c.useState)(!1),Re=Object(a.a)(Ke,2),Ye=Re[0],He=Re[1],Me=function(){j.a.get("".concat(o.a.baseUrl,"/api/v1/configurations")).then((function(e){200===e.status&&Je(e.data)})).catch((function(e){}))};Object(c.useEffect)((function(){Qe(),Me(),t!==h&&O(t)}),[t,h]);var Qe=function(){j.a.get("".concat(o.a.baseUrl,"/api/v1/admin/limit-profile/all\n        "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){e.data&&(console.log(f),p(e.data.map((function(e){var t;return t={limitType:e.limitType,NGNScalingThreshold:e.ngnScalingThreshold,id:e.id,NGNSingleTransactionLimit:e.ngnSingleTransactionLimit,NGNDailyCumulativeTransactionLimit:e.ngnDailyCumulativeTransactionLimit,usdscalingThreshold:e.usdScalingThreshold},Object(i.a)(t,"id",e.id),Object(i.a)(t,"usdsingleTransactionLimit",e.usdSingleTransactionLimit),Object(i.a)(t,"usddailyCumulativeTransactionLimit",e.usdDailyCumulativeTransactionLimit),t}))))})).catch((function(e){}))},Ve=function(e,t){t.preventDefault(),m.a.confirm({title:"Are you sure you want to delete this limit profile?",icon:Object(d.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){!function(e){console.log(e),Q(!0),j.a.delete("".concat(o.a.baseUrl,"/api/v1/admin/limit-profile/").concat(e.id,"\n      "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),200===e.status&&(A(!0),R("Limit Profile Deleted Successfully"),Qe(),setTimeout((function(){R(""),A(!1)}),2500),Me())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),A(!0),setTimeout((function(){R(""),A(!1)}),2500)):(R("Connection Error"),A(!1))}))}(e)},onCancel:function(){console.log("Cancel")}})},We=function(e){console.log(e),we(e.id),Z(e.limitType),ce(e.NGNSingleTransactionLimit),oe(e.NGNDailyCumulativeTransactionLimit),te(e.NGNScalingThreshold),Te(e.usdsingleTransactionLimit),Le(e.usddailyCumulativeTransactionLimit),ge(e.usdscalingThreshold),Be(!0),y(!0)};return Object(d.jsx)(d.Fragment,{children:Ie.limitTypes&&Object(d.jsxs)(l.J,{children:[Object(d.jsxs)(l.m,{children:[F&&Object(d.jsx)(l.a,{color:"success",children:K}),q&&Object(d.jsx)(l.a,{color:"danger",children:K}),Object(d.jsxs)(l.h,{children:[Object(d.jsx)(l.l,{children:Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)("div",{children:"Limit Profile "}),Object(d.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:function(){Be(!1),y(!0)},children:"Create Limit"})]})}),Object(d.jsx)(l.i,{children:Object(d.jsx)(l.p,{items:f,fields:[{key:"limitType",name:"Limit Type"},{key:"NGNDailyCumulativeTransactionLimit",name:"NGN Daily Cummulative Transaction Limit"},{key:"NGNScalingThreshold",name:"NGN Scaling Thresold"},{key:"NGNSingleTransactionLimit",name:"NGN Single Transaction Limit"},{key:"usddailyCumulativeTransactionLimit",name:"USD Daily Cummulative Transaction Limit"},{key:"usdscalingThreshold",name:"USD Scaling Thresold"},{key:"usdsingleTransactionLimit",name:"USD Single Transaction Limit"},{key:"Actions",name:"Actions"}],hover:!0,striped:!0,activePage:h,scopedSlots:{Actions:function(e){return Object(d.jsxs)("td",{className:"d-flex",children:[Object(d.jsx)("button",{type:"button",class:"btn btn-success mr-2",onClick:We.bind(b,e),children:"Update"}),Object(d.jsx)("button",{type:"button",class:"btn btn-danger",onClick:Ve.bind(b,e),children:"Delete"})]})}},clickableRows:!0})})]})]}),Object(d.jsx)(m.a,{title:Ue?"Update Limit Profile":"Create Limit Profile",visible:S,footer:null,maskClosable:!1,onCancel:function(){y(!1),ce(""),oe(""),Z(""),de(""),te("")},children:Object(d.jsxs)("div",{className:"container",children:[Ye&&Object(d.jsxs)("p",{className:"text-danger text-center",children:["All fields are required"," "]}),Object(d.jsxs)("form",{children:[N&&Object(d.jsx)(l.a,{color:"success",children:K}),z&&Object(d.jsx)(l.a,{color:"danger",children:K}),Ue?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"Limit Type"}),Object(d.jsxs)(l.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(d.jsx)("option",{selected:!0,children:"Select"}),Ie.limitTypes.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))]})," "]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Scaling Threshold"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Scaling Threshold"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return ge(e.target.value)},value:Oe})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Single Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return ce(e.target.value)},value:ae})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Single Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return Te(e.target.value)},value:pe})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Daily Cummulative Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Daily Cummulative Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return Le(e.target.value)},value:ye})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"Limit Type"}),Object(d.jsxs)(l.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(d.jsx)("option",{selected:!0,children:"Select"}),Ie.limitTypes.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))]})," "]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Scaling Threshold"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Scaling Threshold"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return ge(e.target.value)},value:Oe})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Single Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return ce(e.target.value)},value:ae})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Single Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return Te(e.target.value)},value:pe})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Daily Cummulative Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Daily Cummulative Transaction Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return Le(e.target.value)},value:ye})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"NGN Global Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]}),Object(d.jsxs)(l.x,{children:[Object(d.jsx)(l.G,{htmlFor:"name",children:"USD Global Limit"}),Object(d.jsx)(l.B,{id:"name",type:"number",required:!0,onChange:function(e){return De(e.target.value)},value:Ge})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-flex justify-content-end",children:Object(d.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:Ue?function(){Q(!0),console.log(Pe),j.a.put("".concat(o.a.baseUrl,"/api/v1/admin/limit-profile/").concat(Pe),{ngnScalingThreshold:ee,ngnSingleTransactionLimit:ae,ngnDailyCumulativeTransactionLimit:le,usdScalingThreshold:Oe,usdSingleTransactionLimit:pe,usdDailyCumulativeTransactionLimit:ye},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),200===e.status&&(G(!0),ce(""),Qe(),oe(""),Z(""),de(""),te(""),R("Limit Profile Updated Successfully"),setTimeout((function(){R(""),G(!1),y(!1)}),2500),Me())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),E(!0),G(!1),setTimeout((function(){R(""),y(!1),E(!1)}),2500)):(R("Connection Error"),E(!0),G(!1))}))}:function(){X&&ee&&ae&&le?(Q(!0),j.a.post("".concat(o.a.baseUrl,"/api/v1/admin/limit-profile\n      "),{limitType:X,ngnScalingThreshold:ee,ngnSingleTransactionLimit:ae,ngnDailyCumulativeTransactionLimit:le,usdScalingThreshold:Oe,usdSingleTransactionLimit:pe,usdDailyCumulativeTransactionLimit:ye},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),201===e.status&&(G(!0),ce(""),Qe(),oe(""),Z(""),de(""),te(""),R("Limit Profile Created Successfully"),setTimeout((function(){R(""),y(!1),G(!1)}),2500),Me())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),E(!0),G(!1),setTimeout((function(){R(""),E(!1)}),2500)):(R("Connection Error"),E(!0),G(!1))}))):(He(!0),setTimeout((function(){He(!1)}),2500))},children:M?Object(d.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})]})})]})})}},646:function(e,t,n){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=17.ca8a5c90.chunk.js.map