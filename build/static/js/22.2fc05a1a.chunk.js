(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{1093:function(e,t,n){"use strict";n.r(t);var c=n(653),r=n(1),a=n(21),o=n(647),s=n(646),u=n(654),i=n.n(u),l=n(1101),j=n(842),d=n(22),b=void 0;t.default=function(){Object(a.g)();var e=Object(a.h)().search.match(/page=([0-9]+)/,""),t=Number(e&&e[1]?e[1]:1),n=Object(r.useState)(t),u=Object(c.a)(n,2),m=u[0],h=(u[1],Object(r.useState)([])),O=Object(c.a)(h,2),p=O[0],x=O[1],f=Object(r.useState)(!1),y=Object(c.a)(f,2),g=y[0],v=y[1],S=Object(r.useState)(""),B=Object(c.a)(S,2),C=B[0],N=B[1],k=Object(r.useState)(""),w=Object(c.a)(k,2),U=w[0],F=w[1],G=Object(r.useState)(""),T=Object(c.a)(G,2),q=T[0],A=T[1],I=Object(r.useState)(""),D=Object(c.a)(I,2),E=D[0],L=D[1],z=Object(r.useState)(""),R=Object(c.a)(z,2),J=R[0],K=R[1],$=Object(r.useState)(""),P=Object(c.a)($,2),Y=P[0],H=P[1],M=Object(r.useState)(""),Q=Object(c.a)(M,2),V=Q[0],W=Q[1],X=Object(r.useState)(""),Z=Object(c.a)(X,2),_=Z[0],ee=Z[1],te=Object(r.useState)(!1),ne=Object(c.a)(te,2),ce=ne[0],re=ne[1],ae=Object(r.useState)(!1),oe=Object(c.a)(ae,2),se=oe[0],ue=oe[1],ie=Object(r.useState)(!1),le=Object(c.a)(ie,2),je=le[0],de=le[1],be=Object(r.useState)(!1),me=Object(c.a)(be,2),he=me[0],Oe=me[1],pe=Object(r.useState)(!1),xe=Object(c.a)(pe,2),fe=xe[0],ye=xe[1],ge=Object(r.useState)(!1),ve=Object(c.a)(ge,2),Se=ve[0],Be=ve[1],Ce=Object(r.useState)(!1),Ne=Object(c.a)(Ce,2),ke=(Ne[0],Ne[1]);Object(r.useEffect)((function(){we()}),[]);var we=function(){i.a.get("".concat(s.a.baseUrl,"/api/v1/admin/settlement-configuration/fund-wallet-configs\n      "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){e.data&&x(e.data.map((function(e){return{id:e.id,lowerBoundry:"NGN"===e.currency?"N"+Intl.NumberFormat("en-US").format(e.lowerBoundary):"$"+Intl.NumberFormat("en-US").format(e.lowerBoundary),upperBoundry:"NGN"===e.currency?"N"+Intl.NumberFormat("en-US").format(e.upperBoundary):"$"+Intl.NumberFormat("en-US").format(e.upperBoundary),rate:e.rate,cap:e.cap,base:e.base,lower:(e.currency,e.lowerBoundary),currency:e.currency,upper:(e.currency,e.upperBoundary)}})))})).catch((function(e){}))},Ue=function(e,t){t.preventDefault(),l.a.confirm({title:"Are you sure you want to delete this settlement?",icon:Object(d.jsx)(j.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){Fe(e)},onCancel:function(){console.log("Cancel")}})},Fe=function(e){i.a.delete("".concat(s.a.baseUrl,"/api/v1/admin/settlement-configuration/fund-wallet-config/").concat(e.id,"\n      "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){200===e.status&&(we(),re("Settlement Deleted Successfully"),Be(!0),ke(!1))})).catch((function(e){void 0!==e.response?(re(e.response.data.message),Be(!0),setTimeout((function(){Be(!1)}),2500)):(re("Connection Error"),Be(!0),setTimeout((function(){Be(!1)}),2500),ke(!1))}))},Ge=function(e){console.log(e),ee(e.id),N(e.currency),L(e.lower),K(e.upper),A(e.cap),F(e.rate),H(e.base),W(!0),v(!0)};return console.log(E),Object(d.jsxs)(o.J,{children:[Object(d.jsxs)(o.m,{children:[Se&&Object(d.jsx)(o.a,{color:"danger",children:ce}),Object(d.jsxs)(o.h,{children:[Object(d.jsx)(o.l,{children:Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)("div",{children:"Exchange settlement"}),Object(d.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:function(){W(!1),v(!0)},children:"Create Settlement"})]})}),Object(d.jsx)(o.i,{children:Object(d.jsx)(o.p,{items:p,fields:[{key:"lowerBoundry",name:"Lower Boundry"},{key:"upperBoundry",name:"Upper Boundry"},{key:"rate",name:"Rate "},{key:"cap",name:"Cap"},{key:"base",name:"Base"},{key:"currency",name:"Currency"},{key:"lower",name:"Exact Lower"},{key:"upper",name:"Exact Upper"},{key:"Actions",name:"Actions"}],hover:!0,striped:!0,activePage:m,scopedSlots:{Actions:function(e){return Object(d.jsxs)("td",{className:"d-flex",children:[Object(d.jsx)("button",{type:"button",class:"btn btn-success mr-2",onClick:Ge.bind(b,e),children:"Update"}),Object(d.jsx)("button",{type:"button",class:"btn btn-danger",onClick:Ue.bind(b,e),children:"Delete"})]})}},clickableRows:!0})})]})]}),Object(d.jsx)(l.a,{title:V?"Update  Settlement":"Create Settlement",visible:g,footer:null,maskClosable:!1,onCancel:function(){v(!1)},children:Object(d.jsxs)("div",{className:"container",children:[se&&Object(d.jsx)(o.a,{color:"success",children:ce}),je&&Object(d.jsx)(o.a,{color:"danger",children:ce}),he&&Object(d.jsx)("p",{className:"text-danger text-center",children:"Fields are all required"}),Object(d.jsxs)("form",{children:[V?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Currency"}),Object(d.jsxs)(o.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return N(e.target.value)},value:C,children:[Object(d.jsx)("option",{value:"USD",children:"USD"}),Object(d.jsx)("option",{value:"NGN",children:"NGN"})]})," "]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Lower Boundary"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return L(e.target.value)},value:E})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Upper Boundary "}),Object(d.jsx)(o.B,{id:"name",type:"number",onChange:function(e){return K(e.target.value)},required:!0,value:J})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Rate"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return F(e.target.value)},value:U})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Cap"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return A(e.target.value)},value:q})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Base"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return H(e.target.value)},value:Y})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Currency"}),Object(d.jsxs)(o.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return N(e.target.value)},value:C,children:[Object(d.jsx)("option",{selected:!0,children:"Select"}),Object(d.jsx)("option",{value:"USD",children:"USD"}),Object(d.jsx)("option",{value:"NGN",children:"NGN"})]})," "]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Lower Boundary"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return L(e.target.value)},value:E})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Upper Boundary"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return K(e.target.value)},value:J})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Rate"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return F(e.target.value)},value:U})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Cap"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return A(e.target.value)},value:q})]}),Object(d.jsxs)(o.x,{children:[Object(d.jsx)(o.G,{htmlFor:"name",children:"Base"}),Object(d.jsx)(o.B,{id:"name",type:"number",required:!0,onChange:function(e){return H(e.target.value)},value:Y})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-flex justify-content-end",children:Object(d.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:V?function(){ye(!0),i.a.put("".concat(s.a.baseUrl,"/api/v1/admin/settlement-configuration/fund-wallet-config/").concat(_),{currency:C,lowerBoundary:E,upperBoundary:J,rate:U,cap:q,base:Y},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){200===e.status&&(ye(!1),we(),re("Settlement Updated Successfully"),ue(!0),de(!1),we(),setTimeout((function(){ue(!1),v(!1)}),2500))})).catch((function(e){ye(!1),void 0!==e.response?(re(e.response.data.message),de(!0),ue(!1),setTimeout((function(){de(!1)}),2500)):(re("Connection Error"),de(!0),ue(!1),setTimeout((function(){de(!1)}),2500))}))}:function(){C&&E&&J&&U&&q?(ye(!0),i.a.post("".concat(s.a.baseUrl,"/api/v1/admin/settlement-configuration/fund-wallet-config\n        "),{currency:C,lowerBoundary:E,upperBoundary:J,rate:U,cap:q,base:Y},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){201===e.status&&(we(),ye(!1),re("Settlement Created Successfully"),ue(!0),de(!1),we(),setTimeout((function(){ue(!1),v(!1)}),2500))})).catch((function(e){ye(!1),void 0!==e.response?(re(e.response.data.message),de(!0),ue(!1),setTimeout((function(){de(!1)}),2500)):(re("Connection Error"),de(!0),ue(!1),setTimeout((function(){de(!1)}),2500))}))):(Oe(!0),setTimeout((function(){Oe(!1)}),2500))},children:fe?Object(d.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})]})})]})}},646:function(e,t,n){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=22.2fc05a1a.chunk.js.map