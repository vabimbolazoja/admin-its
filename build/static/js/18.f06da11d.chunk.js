(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{1095:function(e,t,c){"use strict";c.r(t);var n=c(653),s=c(1),a=c(21),i=c(842),o=c(647),r=c(646),j=c(654),l=c.n(j),b=c(1101),u=c(22);t.default=function(){Object(a.g)();var e=Object(a.h)().search.match(/page=([0-9]+)/,""),t=Number(e&&e[1]?e[1]:1),c=Object(s.useState)(t),j=Object(n.a)(c,2),d=j[0],O=j[1],h=Object(s.useState)([]),m=Object(n.a)(h,2),f=m[0],g=m[1],x=Object(s.useState)(!1),p=Object(n.a)(x,2),S=p[0],v=p[1],y=Object(s.useState)(!1),k=Object(n.a)(y,2),C=k[0],A=k[1],N=Object(s.useState)(!1),T=Object(n.a)(N,2),w=T[0],M=(T[1],Object(s.useState)(!1)),P=Object(n.a)(M,2),U=P[0],B=P[1],F=Object(s.useState)(!1),z=Object(n.a)(F,2),D=z[0],E=z[1],I=Object(s.useState)(""),J=Object(n.a)(I,2),L=J[0],q=J[1],G=Object(s.useState)(!1),R=Object(n.a)(G,2),Y=R[0],H=R[1],K=Object(s.useState)(""),Q=Object(n.a)(K,2),V=Q[0],W=Q[1],X=Object(s.useState)(""),Z=Object(n.a)(X,2),$=(Z[0],Z[1],Object(s.useState)("")),_=Object(n.a)($,2),ee=(_[0],_[1],Object(s.useState)("")),te=Object(n.a)(ee,2),ce=(te[0],te[1],Object(s.useState)("")),ne=Object(n.a)(ce,2),se=(ne[0],ne[1],Object(s.useState)("")),ae=Object(n.a)(se,2),ie=ae[0],oe=ae[1],re=Object(s.useState)(""),je=Object(n.a)(re,2),le=(je[0],je[1],Object(s.useState)({})),be=Object(n.a)(le,2);be[0],be[1];Object(s.useEffect)((function(){ue(),t!==d&&O(t)}),[t,d]);var ue=function(){l.a.get("".concat(r.a.baseUrl,"/api/v1/admin/notification-preset/all\n        "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){e.data&&(console.log(f),g(e.data.map((function(e){return{createdOn:e.createdOn?e.createdOn.slice(0,10):"",message:e.message,id:e.id}}))))})).catch((function(e){}))},de=function(e,t){t.preventDefault(),b.a.confirm({title:"Are you sure you want to delete this notification preset ?",icon:Object(u.jsx)(i.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){!function(e){console.log(e),H(!0),l.a.delete("".concat(r.a.baseUrl,"/api/v1/admin/notification-preset/").concat(e.id,"\n      "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){H(!1),200===e.status&&(B(!0),q("Message Deleted Successfully"),ue(),setTimeout((function(){q(""),B(!1)}),2500))})).catch((function(e){H(!1),void 0!==e.response?(q(e.response.data.message),B(!0),setTimeout((function(){q(""),B(!1)}),2500)):(q("Connection Error"),B(!1))}))}(e)},onCancel:function(){console.log("Cancel")}})};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(o.J,{children:[Object(u.jsxs)(o.m,{children:[w&&Object(u.jsx)(o.a,{color:"success",children:L}),U&&Object(u.jsx)(o.a,{color:"danger",children:L}),Object(u.jsxs)(o.h,{children:[Object(u.jsx)(o.l,{children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsx)("div",{children:"Notification Presets"}),Object(u.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:function(){oe(!1),v(!0)},children:"Create Message"})]})}),Object(u.jsx)(o.i,{children:Object(u.jsx)(o.p,{items:f,fields:[{key:"createdOn",name:"Created On"},{key:"message",name:"Message"},{key:"Actions",name:"Actions"}],hover:!0,striped:!0,itemsPerPage:5,activePage:d,scopedSlots:{Actions:function(e){return Object(u.jsx)("td",{className:"d-flex",children:Object(u.jsx)("button",{type:"button",class:"btn btn-danger",onClick:de.bind(undefined,e),children:"Delete"})})}},clickableRows:!0})})]})]}),Object(u.jsx)(b.a,{title:ie?"Update Limit Profile":"Create Message",visible:S,footer:null,maskClosable:!1,onCancel:function(){v(!1),W("")},children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("form",{children:[C&&Object(u.jsx)(o.a,{color:"success",children:L}),D&&Object(u.jsx)(o.a,{color:"danger",children:L}),ie?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(o.x,{children:[Object(u.jsx)(o.G,{htmlFor:"name",children:"Message"}),Object(u.jsx)(o.B,{id:"name",type:"text",required:!0,onChange:function(e){return W(e.target.value)},value:V})]})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"d-flex justify-content-end",children:Object(u.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:function(){V&&(H(!0),l.a.post("".concat(r.a.baseUrl,"/api/v1/admin/notification-preset\n      "),{message:V},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){H(!1),201===e.status&&(A(!0),W(""),ue(),q("Message Created Successfully"),setTimeout((function(){q(""),v(!1),A(!1)}),2500))})).catch((function(e){H(!1),void 0!==e.response?(q(e.response.data.message),E(!0),A(!1),setTimeout((function(){q(""),E(!1)}),2500)):(q("Connection Error"),E(!0),A(!1))})))},children:Y?Object(u.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(u.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})})})]})})}},646:function(e,t,c){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=18.f06da11d.chunk.js.map