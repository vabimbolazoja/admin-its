(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{1077:function(e,t,n){"use strict";n.r(t);var c=n(653),a=n(1),o=n(21),s=n(842),i=n(647),r=n(1102),u=n(646),l=n(654),d=n.n(l),j=n(656),b=n(1101),m=n(22),h=void 0;t.default=function(){Object(o.g)();var e=Object(a.useState)(1),t=Object(c.a)(e,2),n=t[0],l=t[1],O=Object(a.useState)([]),f=Object(c.a)(O,2),p=f[0],x=f[1],g=Object(a.useState)(""),y=Object(c.a)(g,2),S=y[0],T=y[1],N=Object(a.useState)(!1),k=Object(c.a)(N,2),v=k[0],C=k[1],A=Object(a.useState)(""),E=Object(c.a)(A,2),I=E[0],U=E[1],D=Object(a.useState)(""),P=Object(c.a)(D,2),V=P[0],w=P[1],z=Object(a.useState)(""),L=Object(c.a)(z,2),F=L[0],R=L[1],B=Object(a.useState)(""),K=Object(c.a)(B,2),G=K[0],J=K[1],Y=Object(a.useState)(!1),_=Object(c.a)(Y,2),M=_[0],q=_[1],H=Object(a.useState)(!1),Q=Object(c.a)(H,2),W=Q[0],X=Q[1],Z=Object(a.useState)(""),$=Object(c.a)(Z,2),ee=($[0],$[1]),te=Object(a.useState)(!1),ne=Object(c.a)(te,2),ce=(ne[0],ne[1]),ae=Object(a.useState)(!1),oe=Object(c.a)(ae,2),se=(oe[0],oe[1]),ie=Object(a.useState)(!1),re=Object(c.a)(ie,2),ue=re[0],le=re[1],de=Object(a.useState)(""),je=Object(c.a)(de,2),be=je[0],me=je[1],he=function(e){d.a.get("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/all?").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){200===e.status&&(X(!1),x(e.data.records.map((function(e){return{code:e.code,createdOn:e.createdOn?e.createdOn.slice(0,10):"",firstName:e.firstName,lastName:e.lastName,emailAddress:e.emailAddress,phoneNumber:e.phoneNumber,country:e.country,accountType:e.accountType,identityVerificationStatus:e.identityVerificationStatus,status:e.status}}))),T(10*e.data.totalPages),C(!1))})).catch((function(e){}))};Object(a.useEffect)((function(){Oe()}),[]);var Oe=function(){d.a.get("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/all?pageNumber=1&pageSize=10&identityVerificationStatus=&accountType=&country"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){200===e.status&&(x(e.data.records.map((function(e){return{code:e.code,createdOn:e.createdOn?e.createdOn.slice(0,10):"",firstName:e.firstName,lastName:e.lastName,emailAddress:e.emailAddress,phoneNumber:e.phoneNumber,country:e.country,accountType:e.accountType,identityVerificationStatus:e.identityVerificationStatus,status:e.status}}))),X(!1),le(!1),T(10*e.data.totalPages))})).catch((function(e){}))},fe=function(e,t){t.preventDefault(),b.a.confirm({title:"Are you sure you want to ".concat("LOCKED"===e.status?"Unlock":"Lock"," this user?"),icon:Object(m.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){"LOCKED"===e.status?function(e,t){console.log(e),X(!0),d.a.put("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/unlock-user-account/").concat(e),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){X(!1),200===e.status&&(ce(!0),ee("User Account Unlocked Successfully"),Oe(),se(!1),setTimeout((function(){ce(!1)}),2e3))})).catch((function(e){X(!1),ce(!1),void 0!==e.response?(ee(e.response.data.message),se(!0),setTimeout((function(){se(!1)}),2500)):(ee("Connection Error"),se(!0),setTimeout((function(){se(!1)}),2500))}))}(e.code):function(e,t){console.log(e),X(!0),d.a.put("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/lock-user-account/").concat(e),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){X(!1),200===e.status&&(ce(!0),ee("User Account Locked Successfully"),Oe(),se(!1),setTimeout((function(){ce(!1)}),2e3))})).catch((function(e){X(!1),ce(!1),void 0!==e.response?(ee(e.response.data.message),se(!0),setTimeout((function(){se(!1)}),2500)):(ee("Connection Error"),se(!0),setTimeout((function(){se(!1)}),2500))}))}(e.code)},onCancel:function(){console.log("Cancel")}})},pe=function(e,t){t.preventDefault(),b.a.confirm({title:"Are you sure you want to ".concat("INACTIVE"===e.status?"put":"remove"," this user on PID?"),icon:Object(m.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){"INACTIVE"===e.status?(q(!0),me(e.code)):xe(e.code)},onCancel:function(){console.log("Cancel")}})},xe=function(e,t){console.log(e),X(!0),d.a.put("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/remove-pnd-on-account/").concat(e),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){X(!1),200===e.status&&(ce(!0),ee("User Account Removed on PID Successfully"),Oe(),se(!1),setTimeout((function(){ce(!1)}),2e3))})).catch((function(e){X(!1),ce(!1),void 0!==e.response?(ee(e.response.data.message),se(!0),setTimeout((function(){se(!1)}),2500)):(ee("Connection Error"),se(!0),setTimeout((function(){se(!1)}),2500))}))},ge=function(e,t){t.preventDefault(),b.a.confirm({title:"Are you sure you want to triger welcome email ?",icon:Object(m.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){ye(e.code)},onCancel:function(){console.log("Cancel")}})},ye=function(e,t){console.log(e),X(!0),d.a.put("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/trigger-welcome-email/").concat(e),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){X(!1),200===e.status&&(ce(!0),ee("Email Triggered Successfully"),Oe(),se(!1),setTimeout((function(){ce(!1)}),2e3))})).catch((function(e){X(!1),ce(!1),void 0!==e.response?(ee(e.response.data.message),se(!0),setTimeout((function(){se(!1)}),2500)):(ee("Connection Error"),se(!0),setTimeout((function(){se(!1)}),2500))}))};return Object(m.jsxs)(i.J,{children:[Object(m.jsx)(i.m,{children:Object(m.jsxs)(i.h,{children:[Object(m.jsx)(i.l,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsx)("div",{children:" Registered Users"}),Object(m.jsxs)(i.e,{onClick:function(e){e.preventDefault(),C(!0)},type:"button",color:"primary",children:[Object(m.jsx)(j.a,{name:"cil-magnifying-glass"})," Filter Users by Country, Identitify Verification Status. Account Type"," "]}),Object(m.jsx)(i.x,{row:!0,children:Object(m.jsx)(i.m,{md:"12",children:Object(m.jsxs)(i.C,{children:[Object(m.jsx)(i.E,{children:Object(m.jsxs)(i.e,{type:"button",color:"success",children:[Object(m.jsx)(j.a,{name:"cil-magnifying-glass"})," Search"]})}),Object(m.jsx)(i.B,{id:"input1-group2",name:"input1-group2",placeholder:"Username"})]})})})]})}),Object(m.jsxs)(i.i,{children:[Object(m.jsx)(i.p,{items:p,fields:[{key:"code",name:"Traderx Code"},{key:"createdOn",name:"Registered Date"},{key:"firstName",name:"First Name"},{key:"lastName",name:"Last Name"},{key:"emailAddress",name:"Email Address"},{key:"phoneNumber",name:"Phone Number"},{key:"country",name:"Country"},{key:"accountType",name:"Account Type"},{key:"identityVerificationStatus",name:"Identity Verification Status"},{key:"status",name:"Status"},{key:"Actions",name:"Actions"}],scopedSlots:{Actions:function(e){return Object(m.jsxs)("td",{className:"d-flex",children:["PENDING_EMAIL_VERIFICATION"===e.status&&Object(m.jsx)("button",{type:"button",class:"btn btn-primary",onClick:ge.bind(h,e),children:"Trigger Email"}),"LOCKED"===e.status&&Object(m.jsx)("button",{type:"button",class:"btn btn-danger mr-2",onClick:fe.bind(h,e),children:{LOCKED:"Unclock User",INACTIVE:"Lock User"}[e.status]}),"PND"===e.status||"ACTIVE"===e.status&&Object(m.jsx)("button",{type:"button",class:"btn btn-info mr-2",onClick:pe.bind(h,e),children:{PND:"Remove Pnd",ACTIVE:"Place Pnd"}[e.status]})]})}}}),Object(m.jsx)("div",{className:"text-center pagination-part",children:Object(m.jsx)(r.a,{current:n,total:S,defaultPageSize:10,onChange:function(e,t){console.log(e),l(e);var n="pageNumber=".concat(e,"&pageSize=10&identityVerificationStatus=&accountType=&country"),c="pageNumber=".concat(e,"&pageSize=10&identityVerificationStatus=").concat("Select"===G?"":G,"&accountType=").concat("Select"===F?"":F,"&country=").concat("Select"===V?"":V);he(ue?c:n)},showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}})})]})]})}),Object(m.jsx)(b.a,{title:"Filter Users",visible:v,footer:null,maskClosable:!1,onCancel:function(){C(!1),w(""),R(""),J("")},children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)(i.x,{children:[Object(m.jsx)(i.G,{htmlFor:"name",children:"Country"}),Object(m.jsxs)(i.K,{id:"ccmonth",onChange:function(e){return w(e.target.value)},value:V,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Object(m.jsx)("option",{children:"UNITED_STATES"}),Object(m.jsx)("option",{children:"NIGERIA"})]})," "]}),Object(m.jsxs)(i.x,{children:[Object(m.jsx)(i.G,{htmlFor:"name",children:"Account Type"}),Object(m.jsxs)(i.K,{id:"ccmonth",onChange:function(e){return R(e.target.value)},value:F,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Object(m.jsx)("option",{children:"PERSONAL"}),Object(m.jsx)("option",{children:"BUSINESS"})]})," "]}),Object(m.jsxs)(i.x,{children:[Object(m.jsx)(i.G,{htmlFor:"name",children:"Identity Verification Status"}),Object(m.jsxs)(i.K,{id:"ccmonth",onChange:function(e){return J(e.target.value)},value:G,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Object(m.jsx)("option",{children:"APPROVED"}),Object(m.jsx)("option",{children:"ACCEPTED"}),Object(m.jsx)("option",{children:"NOT DONE"})]})," "]}),Object(m.jsx)("div",{className:"text-right",children:Object(m.jsx)(i.e,{onClick:function(e){e.preventDefault(),X(!0),le(!0);var t="pageNumber=".concat(n,"&pageSize=10&identityVerificationStatus=").concat("Select"===G?"":G,"&accountType=").concat("Select"===F?"":F,"&country=").concat("Select"===V?"":V);he(t)},type:"button",color:"success",children:W?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{name:"cil-magnifying-glass"})," Search"," "]})})})]})}),Object(m.jsxs)(b.a,{title:"Reason For PND",visible:M,footer:!1,onCancel:function(){q(!1)},children:[Object(m.jsxs)(i.x,{row:!0,children:[Object(m.jsx)(i.m,{md:"3",children:Object(m.jsx)(i.G,{htmlFor:"textarea-input",children:"Reason"})}),Object(m.jsx)(i.m,{xs:"12",md:"9",children:Object(m.jsx)(i.T,{name:"textarea-input",id:"textarea-input",onChange:function(e){return U(e.target.value)},value:I,rows:"9",placeholder:"Content..."})})]}),Object(m.jsx)(i.e,{onClick:function(){X(!0),d.a.put("".concat(u.a.baseUrl,"/api/v1/admin/traderx-users/place-user-account-on-pnd/").concat(be,"/").concat(I),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){X(!1),200===e.status&&(ce(!0),X(!1),q(!1),ee("User Account Placed on PID Successfully"),Oe(),se(!1),setTimeout((function(){ce(!1)}),2e3))})).catch((function(e){X(!1),ce(!1),void 0!==e.response?(ee(e.response.data.message),se(!0),setTimeout((function(){se(!1)}),2500)):(ee("Connection Error"),se(!0),setTimeout((function(){se(!1)}),2500))}))},type:"button",color:"success",children:W?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})]})]})}},646:function(e,t,n){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=31.50ddd422.chunk.js.map