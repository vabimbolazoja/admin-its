(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{1105:function(e,t,r){"use strict";r.r(t);var n=r(653),o=r(1),c=r(647),s=r(656),a=r(646),i=r(654),l=r.n(i);r(887);function u(e){this.message=e}u.prototype=new Error,u.prototype.name="InvalidCharacterError";var d="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new u("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,c=0,s="";n=t.charAt(c++);~n&&(r=o%4?64*r+n:n,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function f(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(d(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return d(t)}}function p(e){this.message=e}p.prototype=new Error,p.prototype.name="InvalidTokenError";var b=function(e,t){if("string"!=typeof e)throw new p("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(f(e.split(".")[r]))}catch(e){throw new p("Invalid token specified: "+e.message)}},j=r(1101),h=r(22);t.default=function(){var e=Object(o.useState)(""),t=Object(n.a)(e,2),r=t[0],i=t[1],u=Object(o.useState)(""),d=Object(n.a)(u,2),f=d[0],p=d[1],m=Object(o.useState)(!1),x=Object(n.a)(m,2),O=x[0],g=x[1],v=Object(o.useState)(!1),y=Object(n.a)(v,2),w=y[0],C=y[1],S=Object(o.useState)(""),k=Object(n.a)(S,2),I=k[0],N=k[1],A=Object(o.useState)(!1),E=Object(n.a)(A,2),U=E[0],R=E[1],_=Object(o.useState)(!1),B=Object(n.a)(_,2),D=B[0],F=B[1],J=Object(o.useState)(!1),M=Object(n.a)(J,2),T=(M[0],M[1],Object(o.useState)({password:"",username:""})),L=Object(n.a)(T,2),z=(L[0],L[1],Object(o.useState)({})),G=Object(n.a)(z,2),P=(G[0],G[1],Object(o.useState)(!1)),Y=Object(n.a)(P,2),$=(Y[0],Y[1]),q=function(){return R(!1)};return Object(h.jsxs)("div",{className:"c-app c-default-layout flex-row align-items-center",children:[Object(h.jsxs)(c.n,{children:[Object(h.jsxs)(c.J,{className:"justify-content-center",children:[Object(h.jsxs)(c.m,{md:"5",children:[Object(h.jsxs)(c.k,{children:[Object(h.jsxs)(c.h,{className:"p-4",children:[Object(h.jsxs)(c.i,{children:[Object(h.jsxs)(c.w,{children:[Object(h.jsx)("h1",{children:" Admin Login "})," ",Object(h.jsx)("p",{className:"text-muted",children:" Sign In "})," ",Object(h.jsxs)(c.C,{className:"mb-3",children:[Object(h.jsxs)(c.E,{children:[Object(h.jsx)(c.F,{children:Object(h.jsx)(s.a,{name:"cil-user"})})," "]})," ",Object(h.jsx)(c.B,{type:"text",placeholder:"Username",autoComplete:"username",onChange:function(e){return i(e.target.value)},value:r})," "]})," ",Object(h.jsxs)(c.C,{className:"mb-4",children:[Object(h.jsxs)(c.E,{children:[Object(h.jsx)(c.F,{children:Object(h.jsx)(s.a,{name:"cil-lock-locked"})})," "]})," ",Object(h.jsx)(c.B,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)},value:f})," "]})," ",Object(h.jsxs)(c.J,{children:[Object(h.jsxs)(c.m,{xs:"6",children:[Object(h.jsxs)(c.e,{color:"success",className:"px-4",onClick:function(){F(!0);var e={password:f,username:r};l.a.post("".concat(a.a.baseUrl,"/login"),e).then((function(e){if($(!1),200===e.status){var t=e.data.token,r=b(t);console.log(r),r.authorities.filter((function(e){return"ROLE_GENERIC_ADMIN"===e.authority})).length>0?(F(!1),sessionStorage.setItem("token",e.data.token),window.location.href="/dashboard"):(F(!1),N("You are not allowed to log into the system"),$(!1),g(!0),R(!0))}else 400===e.status&&(console.log("eee"),g(!0),setTimeout((function(){g(!1)}),2500))})).catch((function(e){F(!1),console.log(e),void 0!==e.response?(N(e.response.data.message),$(!1),g(!0),R(!0)):(N("Connection Error"),R(!0),$(!1),C(!0))}))},children:[D?Object(h.jsxs)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:[Object(h.jsx)("span",{class:"sr-only",children:" Loading... "})," "]}):"Login"," "]})," "]})," "]})," "]})," "]})," "]})," "]})," "]})," "]})," "]}),Object(h.jsxs)(j.a,{title:!1,visible:U,footer:null,maskClosable:!1,onCancel:q,children:[Object(h.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("div",{children:Object(h.jsx)("i",{class:"fa fa-5x text-danger fa-info-circle"})})," ",Object(h.jsxs)("div",{className:"pt-4",children:[" ",O&&Object(h.jsxs)("div",{className:"auth-label text-danger",children:[" ",I," "]})," ",w&&Object(h.jsxs)("div",{className:"auth-label text-danger",children:[" ",I," "]})," ",Object(h.jsx)("br",{})]})," ",Object(h.jsx)(c.e,{color:"danger",className:"px-4",onClick:q,children:"Close "})," "]})," "]})," "]})," "]})}},646:function(e,t,r){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")},653:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(i){o=!0,c=i}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))},691:function(e,t,r){e.exports=r(399)},700:function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},887:function(e,t,r){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function t(r,n){function o(t,o,c){if("undefined"!==typeof document){"number"===typeof(c=e({},n,c)).expires&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in c)c[a]&&(s+="; "+a,!0!==c[a]&&(s+="="+c[a].split(";")[0]));return document.cookie=t+"="+r.write(o,t)+s}}function c(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var c=t[o].split("="),s=c.slice(1).join("=");try{var a=decodeURIComponent(c[0]);if(n[a]=r.read(s,a),e===a)break}catch(i){}}return e?n[e]:n}}return Object.create({set:o,get:c,remove:function(t,r){o(t,"",e({},r,{expires:-1}))},withAttributes:function(r){return t(this.converter,e({},this.attributes,r))},withConverter:function(r){return t(e({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()}}]);
//# sourceMappingURL=11.ac438990.chunk.js.map