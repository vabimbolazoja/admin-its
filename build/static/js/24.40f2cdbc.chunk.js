(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[24],{1092:function(e,t,n){"use strict";n.r(t);var a=n(653),c=n(1),o=n(21),s=n(842),r=n(647),i=n(646),u=n(1101),m=n(654),l=n.n(m),b=n(22),j=void 0;t.default=function(){Object(o.g)();var e=Object(o.h)().search.match(/page=([0-9]+)/,""),t=Number(e&&e[1]?e[1]:1),n=Object(c.useState)(t),m=Object(a.a)(n,2),d=(m[0],m[1],Object(c.useState)(!1)),g=Object(a.a)(d,2),p=(g[0],g[1]),f=Object(c.useState)([]),h=Object(a.a)(f,2),O=h[0],y=h[1],k=Object(c.useState)(!1),x=Object(a.a)(k,2),S=x[0],F=x[1],v=Object(c.useState)(!1),T=Object(a.a)(v,2),A=T[0],N=T[1],C=Object(c.useState)(""),w=Object(a.a)(C,2),J=w[0],E=w[1];Object(c.useEffect)((function(){U()}),[]);var U=function(){l.a.get("".concat(i.a.baseUrl,"/api/v1/admin/jobs"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){e.data&&(console.log(O),y(e.data.map((function(e){return{name:e.name,group:e.group,nextFireFrame:e.nextFireTime,previousFireFrame:e.previousFireTime,startTime:e.startTime,mayFireAgain:e.mayFireAgain?"YES":"NO",triggerState:e.triggerState}}))))})).catch((function(e){}))},z=function(e,t){t.preventDefault(),u.a.confirm({title:"Are you sure you want to pause this job ?",icon:Object(b.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){I(e)},onCancel:function(){console.log("Cancel")}})},B=function(e,t){t.preventDefault(),u.a.confirm({title:"Are you sure you want to resume this job ?",icon:Object(b.jsx)(s.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){P(e)},onCancel:function(){console.log("Cancel")}})},I=function(e,t){console.log(e),p(!0),l.a.post("".concat(i.a.baseUrl,"/api/v1/admin/jobs/").concat(e.group,"/pause?keyName=").concat(e.name),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){p(!1),200===e.status&&(F(!0),E("Job Paused Successfully"),N(!1),U())})).catch((function(e){p(!1),void 0!==e.response?(E(e.response.data.message),N(!0),F(!1)):(E("Connection Error"),N(!0),F(!1))}))},P=function(e,t){console.log(e),p(!0),l.a.post("".concat(i.a.baseUrl,"/api/v1/admin/jobs/").concat(e.group,"/resume?keyName=").concat(e.name),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){p(!1),200===e.status&&(F(!0),E("JOb Resumed Successfully"),N(!1),U())})).catch((function(e){p(!1),void 0!==e.response?(E(e.response.data.message),N(!0),F(!1)):(E("Connection Error"),N(!0),F(!1))}))};return Object(b.jsx)(r.J,{children:Object(b.jsxs)(r.m,{children:[S&&Object(b.jsx)(r.a,{color:"success",children:J}),A&&Object(b.jsx)(r.a,{color:"danger",children:J}),Object(b.jsxs)(r.h,{children:[Object(b.jsx)(r.l,{children:"Jobs"}),Object(b.jsx)(r.i,{children:Object(b.jsx)(r.p,{items:O,fields:[{key:"name",name:"Name"},{key:"group",name:"Group"},{key:"nextFireFrame",name:"Next Fire Time"},{key:"previousFireFrame",name:"Previous Fire Time "},{key:"startTime",name:"Start Time"},{key:"mayFireAgain",name:"May Fire Again"},{key:"triggerState",name:"Trigger State"},{key:"Actions",name:"Actions"}],scopedSlots:{Actions:function(e){return Object(b.jsxs)("td",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsx)("button",{type:"button",class:"btn btn-danger",onClick:z.bind(j,e),children:"Pause"}),Object(b.jsx)("button",{type:"button",class:"btn btn-success",onClick:B.bind(j,e),children:"Resume"})]})}},clickableRows:!0})})]})]})})}},646:function(e,t,n){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=24.40f2cdbc.chunk.js.map