(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{1096:function(e,t,n){"use strict";n.r(t);var i=n(653),c=n(1),r=n(21),a=n(842),s=n(647),l=n(646),o=n(654),j=n.n(o),u=n(1101),m=n(22),d=void 0;t.default=function(){Object(r.g)();var e=Object(r.h)().search.match(/page=([0-9]+)/,""),t=Number(e&&e[1]?e[1]:1),n=Object(c.useState)(t),o=Object(i.a)(n,2),b=o[0],h=o[1],x=Object(c.useState)([]),O=Object(i.a)(x,2),g=O[0],v=O[1],f=Object(c.useState)(!1),p=Object(i.a)(f,2),y=p[0],C=p[1],T=Object(c.useState)(!1),L=Object(i.a)(T,2),S=L[0],F=L[1],G=Object(c.useState)(!1),B=Object(i.a)(G,2),q=B[0],k=B[1],N=Object(c.useState)(!1),P=Object(i.a)(N,2),D=P[0],U=P[1],w=Object(c.useState)(!1),A=Object(i.a)(w,2),z=A[0],E=A[1],I=Object(c.useState)(""),K=Object(i.a)(I,2),J=K[0],R=K[1],Y=Object(c.useState)(!1),H=Object(i.a)(Y,2),M=H[0],Q=H[1],V=Object(c.useState)(""),W=Object(i.a)(V,2),X=W[0],Z=W[1],$=Object(c.useState)(""),_=Object(i.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)(""),ie=Object(i.a)(ne,2),ce=ie[0],re=ie[1],ae=Object(c.useState)(""),se=Object(i.a)(ae,2),le=se[0],oe=se[1],je=Object(c.useState)(""),ue=Object(i.a)(je,2),me=ue[0],de=ue[1],be=Object(c.useState)(""),he=Object(i.a)(be,2),xe=he[0],Oe=he[1],ge=Object(c.useState)(""),ve=Object(i.a)(ge,2),fe=ve[0],pe=ve[1],ye=Object(c.useState)({}),Ce=Object(i.a)(ye,2),Te=Ce[0],Le=Ce[1],Se=function(){C(!1),re(""),oe(""),Z(""),de(""),te("")},Fe=function(){X&&ee&&ce&&le&&me&&(Q(!0),j.a.post("".concat(l.a.baseUrl,"/api/v1/admin/limit-profile\n      "),{limitType:X,scalingThreshold:ee,singleTransactionLimit:ce,dailyCumulativeTransactionLimit:le,globalLimit:me},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),201===e.status&&(F(!0),re(""),qe(),oe(""),Z(""),de(""),te(""),R("Limit Profile Created Successfully"),setTimeout((function(){R(""),C(!1),F(!1)}),2500),Ge())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),E(!0),F(!1),setTimeout((function(){R(""),E(!1)}),2500)):(R("Connection Error"),E(!0),F(!1))})))},Ge=function(){j.a.get("".concat(l.a.baseUrl,"/api/v1/configurations")).then((function(e){200===e.status&&Le(e.data)})).catch((function(e){}))},Be=function(){Q(!0),console.log(fe),j.a.put("".concat(l.a.baseUrl,"/api/v1/admin/limit-profile/").concat(fe),{scalingThreshold:ee,singleTransactionLimit:ce,dailyCumulativeTransactionLimit:le,globalLimit:me},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),200===e.status&&(F(!0),re(""),qe(),oe(""),Z(""),de(""),te(""),R("Limit Profile Updated Successfully"),setTimeout((function(){R(""),F(!1),C(!1)}),2500),Ge())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),E(!0),F(!1),setTimeout((function(){R(""),C(!1),E(!1)}),2500)):(R("Connection Error"),E(!0),F(!1))}))};Object(c.useEffect)((function(){qe(),Ge(),t!==b&&h(t)}),[t,b]);var qe=function(){j.a.get("".concat(l.a.baseUrl,"/api/v1/admin/limit-profile/all\n        "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){e.data&&(console.log(g),v(e.data.map((function(e){return{createdOn:e.createdOn?e.createdOn.slice(0,10):"",limitType:e.limitType,scalingThreshold:e.scalingThreshold,id:e.id,singleTransactionLimit:e.singleTransactionLimit,dailyCumulativeTransactionLimit:e.dailyCumulativeTransactionLimit,globalLimit:e.globalLimit}}))))})).catch((function(e){}))},ke=function(e,t){t.preventDefault(),u.a.confirm({title:"Are you sure you want to delete this limi profile?",icon:Object(m.jsx)(a.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){!function(e){console.log(e),Q(!0),j.a.delete("".concat(l.a.baseUrl,"/api/v1/admin/limit-profile/").concat(e.id,"\n      "),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),200===e.status&&(k(!0),R("Limit Profile Deleted Successfully"),qe(),setTimeout((function(){R(""),k(!1)}),2500),Ge())})).catch((function(e){Q(!1),void 0!==e.response?(R(e.response.data.message),U(!0),setTimeout((function(){R(""),U(!1)}),2500)):(R("Connection Error"),U(!1))}))}(e)},onCancel:function(){console.log("Cancel")}})},Ne=function(e){console.log(e),pe(e.id),Z(e.limitType),re(e.singleTransactionLimit),oe(e.dailyCumulativeTransactionLimit),te(e.scalingThreshold),de(e.globalLimit),Oe(!0),C(!0)};return Object(m.jsx)(m.Fragment,{children:Te.limitTypes&&Object(m.jsxs)(s.J,{children:[Object(m.jsxs)(s.m,{children:[q&&Object(m.jsx)(s.a,{color:"success",children:J}),D&&Object(m.jsx)(s.a,{color:"danger",children:J}),Object(m.jsxs)(s.h,{children:[Object(m.jsx)(s.l,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsx)("div",{children:"Notification Board "}),Object(m.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:function(){Oe(!1),C(!0)},children:"Create Notification"})]})}),Object(m.jsx)(s.i,{children:Object(m.jsx)(s.p,{items:g,fields:[{key:"createdOn",name:"Created On"},{key:"limitType",name:"Limit Type"},{key:"dailyCumulativeTransactionLimit",name:"Daily Cummulative Transaction Limit"},{key:"scalingThreshold",name:"Scaling Thresold"},{key:"singleTransactionLimit",name:"Single Transaction Limit"},{key:"Actions",name:"Actions"}],hover:!0,striped:!0,itemsPerPage:5,activePage:b,scopedSlots:{Actions:function(e){return Object(m.jsxs)("td",{className:"d-flex",children:[Object(m.jsx)("button",{type:"button",class:"btn btn-success mr-2",onClick:Ne.bind(d,e),children:"Update"}),Object(m.jsx)("button",{type:"button",class:"btn btn-danger",onClick:ke.bind(d,e),children:"Delete"})]})}},clickableRows:!0})})]})]}),Object(m.jsx)(u.a,{title:xe?"Update Limit Profile":"Create Limit Profile",visible:y,footer:null,maskClosable:!1,onCancel:Se,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[S&&Object(m.jsx)(s.a,{color:"success",children:J}),z&&Object(m.jsx)(s.a,{color:"danger",children:J}),xe?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Limit Type"}),Object(m.jsxs)(s.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Te.limitTypes.map((function(e){return Object(m.jsx)("option",{value:e,children:e})}))]})," "]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:xe?Be:Fe,children:M?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})})}),Object(m.jsx)(u.a,{title:xe?"Update Limit Profile":"Create Limit Profile",visible:y,footer:null,maskClosable:!1,onCancel:Se,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[S&&Object(m.jsx)(s.a,{color:"success",children:J}),z&&Object(m.jsx)(s.a,{color:"danger",children:J}),xe?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Limit Type"}),Object(m.jsxs)(s.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Te.limitTypes.map((function(e){return Object(m.jsx)("option",{value:e,children:e})}))]})," "]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:xe?Be:Fe,children:M?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})})}),Object(m.jsx)(u.a,{title:xe?"Update Limit Profile":"Create Limit Profile",visible:y,footer:null,maskClosable:!1,onCancel:Se,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[S&&Object(m.jsx)(s.a,{color:"success",children:J}),z&&Object(m.jsx)(s.a,{color:"danger",children:J}),xe?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Limit Type"}),Object(m.jsxs)(s.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Te.limitTypes.map((function(e){return Object(m.jsx)("option",{value:e,children:e})}))]})," "]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:xe?Be:Fe,children:M?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})})}),Object(m.jsx)(u.a,{title:xe?"Update Limit Profile":"Create Limit Profile",visible:y,footer:null,maskClosable:!1,onCancel:Se,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[S&&Object(m.jsx)(s.a,{color:"success",children:J}),z&&Object(m.jsx)(s.a,{color:"danger",children:J}),xe?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Limit Type"}),Object(m.jsxs)(s.K,{custom:!0,name:"ccmonth",id:"ccmonth",onChange:function(e){return Z(e.target.value)},value:X,children:[Object(m.jsx)("option",{selected:!0,children:"Select"}),Te.limitTypes.map((function(e){return Object(m.jsx)("option",{value:e,children:e})}))]})," "]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Scaling Threshold"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return te(e.target.value)},value:ee})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Single Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return re(e.target.value)},value:ce})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Daily Cummulative Transaction Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return oe(e.target.value)},value:le})]}),Object(m.jsxs)(s.x,{children:[Object(m.jsx)(s.G,{htmlFor:"name",children:"Global Limit"}),Object(m.jsx)(s.B,{id:"name",type:"number",required:!0,onChange:function(e){return de(e.target.value)},value:me})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsx)("button",{type:"button",class:"btn btn-primary mr-2",onClick:xe?Be:Fe,children:M?Object(m.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1rem",height:"1rem"},children:Object(m.jsx)("span",{class:"sr-only",children:"Loading..."})}):"Submit"})})]})})})]})})}},646:function(e,t,n){"use strict";t.a={baseUrl:"https://core.4traderx.com"},console.log("https://core.4traderx.com")}}]);
//# sourceMappingURL=19.256da596.chunk.js.map